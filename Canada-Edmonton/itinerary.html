<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>æé‡Œå­ã¸ - ã‚¨ãƒ‰ãƒ¢ãƒ³ãƒˆãƒ³æ—…è¡Œã—ãŠã‚Š</title>
  <link rel="icon" type="image/svg+xml" href="./images/icon.svg">
  <link rel="manifest" href="./manifest.json">
  <meta name="theme-color" content="#D52B1E">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="description" content="æ£®ä¸‹æé‡Œå­ã•ã‚“ã®ã‚«ãƒŠãƒ€ãƒ»ã‚¨ãƒ‰ãƒ¢ãƒ³ãƒˆãƒ³æ—…è¡Œã—ãŠã‚Š 2026å¹´3æœˆ3æ—¥ã€œ9æ—¥">

  <style>
    /* ===== Design System ===== */
    :root {
      /* Colors - Semantic */
      --c-primary: #D52B1E;
      --c-primary-dark: #B8251A;
      --c-danger: #D32F2F;
      --c-warning: #F57C00;
      --c-info: #1976D2;
      --c-success: #388E3C;

      /* Colors - Neutral */
      --c-bg: #FAFAFA;
      --c-surface: #FFFFFF;
      --c-text: #212121;
      --c-text-secondary: #616161;
      --c-text-muted: #9E9E9E;
      --c-border: #E0E0E0;

      /* Spacing */
      --space-xs: 4px;
      --space-sm: 8px;
      --space-md: 16px;
      --space-lg: 24px;
      --space-xl: 32px;

      /* Typography */
      --font-base: 16px;
      --line-height: 1.7;

      /* Radius */
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;

      /* Shadows */
      --shadow-sm: 0 1px 3px rgba(0,0,0,0.08);
      --shadow-md: 0 4px 12px rgba(0,0,0,0.1);
      --shadow-lg: 0 8px 24px rgba(0,0,0,0.12);

      /* Touch target */
      --tap-target: 48px;
    }

    /* ===== Reset ===== */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; -webkit-tap-highlight-color: transparent; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Hiragino Kaku Gothic ProN', sans-serif;
      font-size: var(--font-base);
      line-height: var(--line-height);
      color: var(--c-text);
      background: var(--c-bg);
      padding-bottom: 80px; /* FAB space */
    }

    /* ===== Utility ===== */
    .container { max-width: 720px; margin: 0 auto; padding: 0 var(--space-md); }
    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0; }

    /* ===== Hero Section - First View ===== */
    .hero {
      background: linear-gradient(135deg, var(--c-primary) 0%, var(--c-primary-dark) 100%);
      color: white;
      padding: var(--space-lg) var(--space-md);
      position: relative;
      overflow: hidden;
    }

    .hero::before {
      content: '';
      position: absolute;
      inset: 0;
      background: url('https://images.unsplash.com/photo-1519681393784-d120267933ba?w=800') center/cover;
      opacity: 0.15;
    }

    .hero-content { position: relative; z-index: 1; }

    .hero-badge {
      display: inline-block;
      background: rgba(255,255,255,0.2);
      padding: 6px 14px;
      border-radius: 100px;
      font-size: 13px;
      margin-bottom: var(--space-sm);
    }

    .hero-title {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: var(--space-xs);
    }

    .hero-subtitle {
      font-size: 0.95rem;
      opacity: 0.9;
      margin-bottom: var(--space-md);
    }

    /* Quick Info Grid - Visible on First View */
    .quick-info {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: var(--space-sm);
      margin-bottom: var(--space-md);
    }

    .quick-item {
      background: rgba(255,255,255,0.15);
      backdrop-filter: blur(10px);
      border-radius: var(--radius-sm);
      padding: var(--space-sm) var(--space-md);
    }

    .quick-label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      opacity: 0.85;
    }

    .quick-value {
      font-size: 1rem;
      font-weight: 600;
    }

    .quick-sub {
      font-size: 12px;
      opacity: 0.8;
    }

    /* Countdown - Compact */
    .countdown {
      display: flex;
      gap: var(--space-sm);
      justify-content: center;
      flex-wrap: wrap;
    }

    .countdown-item {
      background: rgba(255,255,255,0.2);
      border-radius: var(--radius-sm);
      padding: var(--space-sm) var(--space-md);
      text-align: center;
      min-width: 60px;
    }

    .countdown-value { font-size: 1.5rem; font-weight: 700; display: block; }
    .countdown-unit { font-size: 11px; opacity: 0.9; }
    .countdown-done { text-align: center; padding: var(--space-md); font-size: 1.1rem; }

    /* Time Display */
    .time-display {
      display: flex;
      justify-content: center;
      gap: var(--space-lg);
      margin-top: var(--space-md);
      font-size: 13px;
      opacity: 0.9;
    }

    /* ===== Sticky Nav ===== */
    .sticky-nav {
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--c-surface);
      border-bottom: 1px solid var(--c-border);
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }

    .sticky-nav::-webkit-scrollbar { display: none; }

    .nav-list {
      display: flex;
      list-style: none;
      padding: 0 var(--space-sm);
      white-space: nowrap;
    }

    .nav-list a {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: var(--space-md);
      min-height: var(--tap-target);
      text-decoration: none;
      color: var(--c-text-secondary);
      font-size: 14px;
      transition: color 0.2s;
    }

    .nav-list a:hover, .nav-list a:focus { color: var(--c-primary); }

    /* ===== Section ===== */
    .section {
      padding: var(--space-lg) 0;
      scroll-margin-top: 60px;
    }

    .section-header {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      margin-bottom: var(--space-md);
      padding: 0 var(--space-md);
    }

    .section-title {
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--c-text);
    }

    /* ===== Cards ===== */
    .card {
      background: var(--c-surface);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-sm);
      margin: 0 var(--space-md) var(--space-md);
      overflow: hidden;
    }

    .card-body { padding: var(--space-md); }
    .card-title { font-size: 1rem; font-weight: 600; margin-bottom: var(--space-sm); }

    /* ===== Alert Boxes - Consistent Color Rules ===== */
    .alert {
      border-radius: var(--radius-sm);
      padding: var(--space-md);
      margin: 0 var(--space-md) var(--space-md);
      display: flex;
      gap: var(--space-sm);
      align-items: flex-start;
    }

    .alert-icon { flex-shrink: 0; font-size: 1.25rem; }
    .alert-content { flex: 1; }
    .alert-title { font-weight: 600; margin-bottom: var(--space-xs); }
    .alert-text { font-size: 14px; }

    /* Warning = Orange/Yellow background */
    .alert-warning {
      background: #FFF3E0;
      border-left: 4px solid var(--c-warning);
    }
    .alert-warning .alert-title { color: #E65100; }

    /* Info = Blue background */
    .alert-info {
      background: #E3F2FD;
      border-left: 4px solid var(--c-info);
    }
    .alert-info .alert-title { color: #1565C0; }

    /* Danger = Red background */
    .alert-danger {
      background: #FFEBEE;
      border-left: 4px solid var(--c-danger);
    }
    .alert-danger .alert-title { color: #C62828; }

    /* ===== Photo Cards ===== */
    .photo-card {
      position: relative;
      border-radius: var(--radius-md);
      overflow: hidden;
      margin: 0 var(--space-md) var(--space-md);
    }

    .photo-card img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      display: block;
    }

    .photo-card-overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(transparent, rgba(0,0,0,0.7));
      color: white;
      padding: var(--space-lg) var(--space-md) var(--space-md);
    }

    .photo-card-title { font-size: 1.1rem; font-weight: 600; }
    .photo-card-desc { font-size: 13px; opacity: 0.9; margin-top: 4px; }

    .photo-credit {
      position: absolute;
      bottom: var(--space-sm);
      right: var(--space-sm);
      background: rgba(0,0,0,0.5);
      color: white;
      font-size: 10px;
      padding: 2px 6px;
      border-radius: 4px;
    }

    /* ===== Schedule ===== */
    .schedule-day {
      background: var(--c-surface);
      border-radius: var(--radius-md);
      margin: 0 var(--space-md) var(--space-md);
      box-shadow: var(--shadow-sm);
      overflow: hidden;
    }

    .schedule-day summary {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: var(--space-md);
      min-height: var(--tap-target);
      cursor: pointer;
      list-style: none;
      background: linear-gradient(135deg, var(--c-primary) 0%, var(--c-primary-dark) 100%);
      color: white;
    }

    .schedule-day summary::-webkit-details-marker { display: none; }

    .schedule-day-info { flex: 1; }
    .schedule-day-date { font-weight: 700; font-size: 1rem; }
    .schedule-day-title { font-size: 13px; opacity: 0.9; margin-top: 2px; }

    .schedule-day-badge {
      background: rgba(255,255,255,0.25);
      padding: 4px 12px;
      border-radius: 100px;
      font-size: 12px;
      font-weight: 600;
    }

    .schedule-day-content { padding: var(--space-md); }

    .timeline-item {
      display: flex;
      gap: var(--space-md);
      padding: var(--space-sm) 0;
      border-bottom: 1px solid var(--c-border);
    }

    .timeline-item:last-child { border-bottom: none; }

    .timeline-time {
      min-width: 50px;
      font-weight: 600;
      color: var(--c-primary);
      font-size: 14px;
    }

    .timeline-content { flex: 1; }
    .timeline-title { font-weight: 500; }
    .timeline-detail { font-size: 13px; color: var(--c-text-secondary); margin-top: 2px; }

    .tag {
      display: inline-block;
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 100px;
      margin-top: var(--space-xs);
    }

    .tag-flight { background: #E3F2FD; color: #1565C0; }
    .tag-hotel { background: #F3E5F5; color: #7B1FA2; }
    .tag-food { background: #FFF3E0; color: #E65100; }

    /* ===== Spots Grid ===== */
    .spots-grid {
      display: grid;
      gap: var(--space-md);
      padding: 0 var(--space-md);
    }

    .spot-card {
      background: var(--c-surface);
      border-radius: var(--radius-md);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
    }

    .spot-card img {
      width: 100%;
      height: 160px;
      object-fit: cover;
    }

    .spot-card-body { padding: var(--space-md); }
    .spot-card-name { font-weight: 600; margin-bottom: var(--space-xs); }
    .spot-card-desc { font-size: 14px; color: var(--c-text-secondary); }

    /* ===== Checklist ===== */
    .checklist-grid {
      display: grid;
      gap: var(--space-sm);
    }

    .checklist-item {
      display: flex;
      align-items: center;
      gap: var(--space-md);
      padding: var(--space-md);
      min-height: var(--tap-target);
      background: var(--c-bg);
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: background 0.2s;
      -webkit-user-select: none;
      user-select: none;
    }

    .checklist-item:active { background: #EEE; }

    .checklist-item.checked {
      background: #E8F5E9;
    }

    .checklist-item.checked .checklist-text {
      text-decoration: line-through;
      color: var(--c-text-muted);
    }

    .checklist-checkbox {
      width: 24px;
      height: 24px;
      border: 2px solid var(--c-border);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      transition: all 0.2s;
    }

    .checklist-item.checked .checklist-checkbox {
      background: var(--c-success);
      border-color: var(--c-success);
      color: white;
    }

    .checklist-text { font-size: 15px; }

    .checklist-category { margin-bottom: var(--space-lg); }
    .checklist-category-title { font-weight: 600; margin-bottom: var(--space-sm); color: var(--c-text-secondary); font-size: 14px; }

    /* ===== Hotels Table ===== */
    .hotels-list { padding: 0 var(--space-md); }

    .hotel-item {
      background: var(--c-surface);
      border-radius: var(--radius-md);
      padding: var(--space-md);
      margin-bottom: var(--space-md);
      box-shadow: var(--shadow-sm);
    }

    .hotel-dates { font-size: 13px; color: var(--c-text-secondary); margin-bottom: var(--space-xs); }
    .hotel-name { font-weight: 600; margin-bottom: var(--space-xs); }
    .hotel-confirm { font-family: monospace; background: var(--c-bg); padding: 2px 8px; border-radius: 4px; font-size: 14px; }
    .hotel-contact { font-size: 13px; color: var(--c-text-secondary); margin-top: var(--space-sm); }
    .hotel-contact a { color: var(--c-primary); text-decoration: none; min-height: var(--tap-target); display: inline-flex; align-items: center; }

    /* ===== Copyable ===== */
    .copyable {
      display: inline-flex;
      align-items: center;
      gap: var(--space-xs);
      cursor: pointer;
      padding: 4px 8px;
      border-radius: 4px;
      transition: background 0.2s;
    }
    .copyable:hover { background: var(--c-border); }
    .copyable:active { background: #CCC; }
    .copy-icon { font-size: 14px; opacity: 0.6; }
    .copy-toast {
      position: fixed;
      bottom: 100px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--c-text);
      color: white;
      padding: var(--space-sm) var(--space-md);
      border-radius: var(--radius-sm);
      font-size: 14px;
      z-index: 1001;
      opacity: 0;
      transition: opacity 0.3s;
    }
    .copy-toast.show { opacity: 1; }

    /* ===== Info Grid ===== */
    .info-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: var(--space-md);
    }
    .info-item-label { font-size: 12px; color: var(--c-text-muted); margin-bottom: 2px; }
    .info-item-value { font-weight: 500; }

    /* ===== Emergency FAB ===== */
    .fab-emergency {
      position: fixed;
      bottom: var(--space-lg);
      right: var(--space-md);
      z-index: 1000;
    }

    .fab-btn {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: var(--c-danger);
      color: white;
      border: none;
      font-size: 24px;
      cursor: pointer;
      box-shadow: var(--shadow-lg);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .fab-btn:active { transform: scale(0.95); }

    .fab-menu {
      position: absolute;
      bottom: 70px;
      right: 0;
      background: var(--c-surface);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-lg);
      min-width: 240px;
      display: none;
      overflow: hidden;
    }

    .fab-menu.open { display: block; }

    .fab-menu-title {
      background: var(--c-danger);
      color: white;
      padding: var(--space-md);
      font-weight: 600;
    }

    .fab-menu-item {
      display: flex;
      align-items: center;
      gap: var(--space-md);
      padding: var(--space-md);
      min-height: var(--tap-target);
      text-decoration: none;
      color: var(--c-text);
      border-bottom: 1px solid var(--c-border);
      transition: background 0.2s;
    }

    .fab-menu-item:last-child { border-bottom: none; }
    .fab-menu-item:active { background: var(--c-bg); }
    .fab-menu-item-label { font-size: 13px; color: var(--c-text-secondary); }
    .fab-menu-item-value { font-weight: 600; }

    /* ===== Footer ===== */
    .footer {
      background: var(--c-text);
      color: white;
      padding: var(--space-xl) var(--space-md);
      text-align: center;
    }

    .footer-message { font-size: 1.1rem; margin-bottom: var(--space-xs); }
    .footer-from { font-size: 14px; opacity: 0.8; }

    /* ===== Print ===== */
    @media print {
      .sticky-nav, .fab-emergency { display: none !important; }
      .schedule-day[open] .schedule-day-content { display: block !important; }
      body { padding-bottom: 0; }
    }

    /* ===== Responsive ===== */
    @media (min-width: 600px) {
      .quick-info { grid-template-columns: repeat(4, 1fr); }
      .spots-grid { grid-template-columns: repeat(2, 1fr); }
      .checklist-grid { grid-template-columns: repeat(2, 1fr); }
    }
  </style>
</head>
<body>

  <!-- ===== Hero Section - Key Info Visible on First View ===== -->
  <header class="hero">
    <div class="hero-content">
      <span class="hero-badge">To: æé‡Œå­ã¸ / From: æ­ç¥ã‚ˆã‚Š</span>
      <h1 class="hero-title">ã‚¨ãƒ‰ãƒ¢ãƒ³ãƒˆãƒ³æ—…è¡Œã—ãŠã‚Š</h1>
      <p class="hero-subtitle">2026å¹´3æœˆ3æ—¥(ç«) ã€œ 3æœˆ9æ—¥(æœˆ) ãƒ» 5æ³Š7æ—¥</p>

      <!-- Key Info - Visible Immediately -->
      <div class="quick-info">
        <div class="quick-item">
          <div class="quick-label">å‡ºç™º</div>
          <div class="quick-value">3/3 19:25</div>
          <div class="quick-sub">é–¢è¥¿ç©ºæ¸¯</div>
        </div>
        <div class="quick-item">
          <div class="quick-label">åˆ°ç€</div>
          <div class="quick-value">3/3 21:43</div>
          <div class="quick-sub">ã‚¨ãƒ‰ãƒ¢ãƒ³ãƒˆãƒ³</div>
        </div>
        <div class="quick-item">
          <div class="quick-label">å¸°å›½</div>
          <div class="quick-value">3/9 10:15</div>
          <div class="quick-sub">é–¢è¥¿ç©ºæ¸¯</div>
        </div>
        <div class="quick-item">
          <div class="quick-label">æ™‚å·®</div>
          <div class="quick-value">-16æ™‚é–“</div>
          <div class="quick-sub">MST</div>
        </div>
      </div>

      <!-- Countdown -->
      <div id="countdown" class="countdown">
        <div class="countdown-item">
          <span class="countdown-value" id="cd-days">--</span>
          <span class="countdown-unit">æ—¥</span>
        </div>
        <div class="countdown-item">
          <span class="countdown-value" id="cd-hours">--</span>
          <span class="countdown-unit">æ™‚é–“</span>
        </div>
        <div class="countdown-item">
          <span class="countdown-value" id="cd-mins">--</span>
          <span class="countdown-unit">åˆ†</span>
        </div>
        <div class="countdown-item">
          <span class="countdown-value" id="cd-secs">--</span>
          <span class="countdown-unit">ç§’</span>
        </div>
      </div>

      <!-- Time Display -->
      <div class="time-display">
        <span>æ—¥æœ¬ <strong id="time-jst">--:--</strong></span>
        <span>Edmonton <strong id="time-mst">--:--</strong></span>
      </div>
    </div>
  </header>

  <!-- ===== Sticky Navigation ===== -->
  <nav class="sticky-nav" aria-label="ãƒ¡ã‚¤ãƒ³ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³">
    <ul class="nav-list">
      <li><a href="#basic-info">åŸºæœ¬</a></li>
      <li><a href="#schedule">æ—¥ç¨‹</a></li>
      <li><a href="#hotels">å®¿æ³Š</a></li>
      <li><a href="#spots">è¦³å…‰</a></li>
      <li><a href="#checklist">æŒã¡ç‰©</a></li>
      <li><a href="#weather">å¤©æ°—</a></li>
      <li><a href="#access">äº¤é€š</a></li>
    </ul>
  </nav>

  <main>
    <!-- ===== Important Alerts ===== -->
    <section class="section" aria-label="é‡è¦ãªãŠçŸ¥ã‚‰ã›">
      <div class="alert alert-warning">
        <span class="alert-icon" aria-hidden="true">!</span>
        <div class="alert-content">
          <div class="alert-title">eTAï¼ˆé›»å­æ¸¡èˆªèªè¨¼ï¼‰</div>
          <p class="alert-text">ã‚«ãƒŠãƒ€å…¥å›½ã«ã¯eTAãŒå¿…è¦ã§ã™ã€‚å‡ºç™ºå‰ã«å¿…ãšç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>
        </div>
      </div>

      <div class="alert alert-info">
        <span class="alert-icon" aria-hidden="true">i</span>
        <div class="alert-content">
          <div class="alert-title">3æœˆã®ã‚¨ãƒ‰ãƒ¢ãƒ³ãƒˆãƒ³ã¯æ¥µå¯’</div>
          <p class="alert-text">æ°—æ¸© -15â„ƒã€œ-5â„ƒã€‚ãƒ€ã‚¦ãƒ³ãƒ»æ‰‹è¢‹ãƒ»å¸½å­ã¯å¿…é ˆã§ã™ã€‚</p>
        </div>
      </div>
    </section>

    <!-- ===== Basic Info ===== -->
    <section id="basic-info" class="section">
      <div class="section-header">
        <h2 class="section-title">åŸºæœ¬æƒ…å ±</h2>
      </div>
      <div class="card">
        <div class="card-body">
          <div class="info-grid">
            <div>
              <div class="info-item-label">é€šè²¨</div>
              <div class="info-item-value">CADï¼ˆã‚«ãƒŠãƒ€ãƒ‰ãƒ«ï¼‰</div>
              <div style="font-size:12px;color:var(--c-text-secondary)">1 CAD â‰ˆ ç´„110å††</div>
            </div>
            <div>
              <div class="info-item-label">é›»åœ§ãƒ»ãƒ—ãƒ©ã‚°</div>
              <div class="info-item-value">120V / Aã‚¿ã‚¤ãƒ—</div>
              <div style="font-size:12px;color:var(--c-text-secondary)">æ—¥æœ¬ã¨åŒã˜å½¢çŠ¶</div>
            </div>
            <div>
              <div class="info-item-label">ãƒãƒƒãƒ—</div>
              <div class="info-item-value">15ã€œ20%</div>
              <div style="font-size:12px;color:var(--c-text-secondary)">ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ãƒ»ã‚¿ã‚¯ã‚·ãƒ¼</div>
            </div>
            <div>
              <div class="info-item-label">ç·Šæ€¥é€šå ±</div>
              <div class="info-item-value">911</div>
              <div style="font-size:12px;color:var(--c-text-secondary)">è­¦å¯Ÿãƒ»æ¶ˆé˜²ãƒ»æ•‘æ€¥å…±é€š</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== Hero Photo ===== -->
    <div class="photo-card">
      <img src="./images/hero.jpg"
           alt="ã‚¨ãƒ‰ãƒ¢ãƒ³ãƒˆãƒ³ã®å†¬æ™¯è‰²"
           loading="lazy">
      <div class="photo-card-overlay">
        <div class="photo-card-title">Edmonton, Alberta</div>
        <div class="photo-card-desc">ã‚«ãƒŠãƒ€ã§5ç•ªç›®ã«å¤§ããªéƒ½å¸‚ã€‚åŒ—ç±³æœ€å¤§ã®ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ«ã‚‚ã€‚</div>
      </div>
      <span class="photo-credit">Unsplash</span>
    </div>

    <!-- ===== Schedule ===== -->
    <section id="schedule" class="section">
      <div class="section-header">
        <h2 class="section-title">æ—¥ç¨‹ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«</h2>
      </div>

      <!-- Day 1 -->
      <details class="schedule-day" open>
        <summary>
          <div class="schedule-day-info">
            <div class="schedule-day-date">3/3 (ç«)</div>
            <div class="schedule-day-title">é–¢è¥¿ â†’ ãƒãƒ³ã‚¯ãƒ¼ãƒãƒ¼ â†’ ã‚«ãƒ«ã‚¬ãƒªãƒ¼ â†’ ã‚¨ãƒ‰ãƒ¢ãƒ³ãƒˆãƒ³</div>
          </div>
          <span class="schedule-day-badge">1æ—¥ç›®</span>
        </summary>
        <div class="schedule-day-content">
          <div class="timeline-item">
            <div class="timeline-time">19:25</div>
            <div class="timeline-content">
              <div class="timeline-title">é–¢è¥¿ç©ºæ¸¯ å‡ºç™º</div>
              <div class="timeline-detail">AC36ä¾¿ â†’ ãƒãƒ³ã‚¯ãƒ¼ãƒãƒ¼ 11:35ç€</div>
              <span class="tag tag-flight copyable" onclick="copyText('RYDPTB')" style="cursor:pointer;">ç¢ºèªç•ªå·: RYDPTB ğŸ“‹</span>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-time">14:00</div>
            <div class="timeline-content">
              <div class="timeline-title">ãƒãƒ³ã‚¯ãƒ¼ãƒãƒ¼ â†’ ã‚«ãƒ«ã‚¬ãƒªãƒ¼</div>
              <div class="timeline-detail">AC218ä¾¿ â†’ 16:26ç€ï¼ˆä¹—ç¶™æ™‚é–“: 2æ™‚é–“25åˆ†ï¼‰</div>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-time">20:40</div>
            <div class="timeline-content">
              <div class="timeline-title">ã‚«ãƒ«ã‚¬ãƒªãƒ¼ â†’ ã‚¨ãƒ‰ãƒ¢ãƒ³ãƒˆãƒ³</div>
              <div class="timeline-detail">AC8077ä¾¿ â†’ 21:43ç€ï¼ˆä¹—ç¶™æ™‚é–“: 4æ™‚é–“14åˆ†ï¼‰</div>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-time">22:00</div>
            <div class="timeline-content">
              <div class="timeline-title">Renaissance Edmonton Airport Hotel ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³</div>
              <div class="timeline-detail">ç©ºæ¸¯éš£æ¥ãƒ»å¾’æ­©5åˆ†</div>
              <span class="tag tag-hotel copyable" onclick="copyText('82999487')" style="cursor:pointer;">ç¢ºèªç•ªå·: 82999487 ğŸ“‹</span>
            </div>
          </div>
        </div>
      </details>

      <!-- Day 2 -->
      <details class="schedule-day">
        <summary>
          <div class="schedule-day-info">
            <div class="schedule-day-date">3/4 (æ°´)</div>
            <div class="schedule-day-title">ã‚¨ãƒ‰ãƒ¢ãƒ³ãƒˆãƒ³å¸‚å†…è¦³å…‰</div>
          </div>
          <span class="schedule-day-badge">2æ—¥ç›®</span>
        </summary>
        <div class="schedule-day-content">
          <div class="timeline-item">
            <div class="timeline-time">åˆå‰</div>
            <div class="timeline-content">
              <div class="timeline-title">JW Marriott ã¸ç§»å‹•</div>
              <div class="timeline-detail">ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³å¾Œã€Ice District æ•£ç­–</div>
              <span class="tag tag-hotel copyable" onclick="copyText('97803731')" style="cursor:pointer;">ç¢ºèªç•ªå·: 97803731 ğŸ“‹</span>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-time">åˆå¾Œ</div>
            <div class="timeline-content">
              <div class="timeline-title">Rogers Place å‘¨è¾º / Art Gallery of Alberta</div>
              <div class="timeline-detail">ãƒ›ãƒ†ãƒ«å‘¨è¾ºã¯å¾’æ­©ã§å›ã‚Œã¾ã™</div>
            </div>
          </div>
        </div>
      </details>

      <!-- Day 3 -->
      <details class="schedule-day">
        <summary>
          <div class="schedule-day-info">
            <div class="schedule-day-date">3/5 (æœ¨)</div>
            <div class="schedule-day-title">West Edmonton Mall</div>
          </div>
          <span class="schedule-day-badge">3æ—¥ç›®</span>
        </summary>
        <div class="schedule-day-content">
          <div class="timeline-item">
            <div class="timeline-time">çµ‚æ—¥</div>
            <div class="timeline-content">
              <div class="timeline-title">West Edmonton Mall</div>
              <div class="timeline-detail">åŒ—ç±³æœ€å¤§ã®ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ«ã€‚æ°´æ—é¤¨ãƒ»ãƒ—ãƒ¼ãƒ«ãƒ»éŠåœ’åœ°ã‚‚ã€‚</div>
            </div>
          </div>
        </div>
      </details>

      <!-- Day 4 -->
      <details class="schedule-day">
        <summary>
          <div class="schedule-day-info">
            <div class="schedule-day-date">3/6 (é‡‘)</div>
            <div class="schedule-day-title">Old Strathcona / è‡ªç”±è¡Œå‹•</div>
          </div>
          <span class="schedule-day-badge">4æ—¥ç›®</span>
        </summary>
        <div class="schedule-day-content">
          <div class="timeline-item">
            <div class="timeline-time">åˆå¾Œ</div>
            <div class="timeline-content">
              <div class="timeline-title">Old Strathcona æ•£ç­–</div>
              <div class="timeline-detail">Whyte Avenue ã§ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ï¼†ã‚«ãƒ•ã‚§</div>
            </div>
          </div>
        </div>
      </details>

      <!-- Day 5 -->
      <details class="schedule-day">
        <summary>
          <div class="schedule-day-info">
            <div class="schedule-day-date">3/7 (åœŸ)</div>
            <div class="schedule-day-title">Alberta Legislature / æœ€çµ‚æ—¥è¦³å…‰</div>
          </div>
          <span class="schedule-day-badge">5æ—¥ç›®</span>
        </summary>
        <div class="schedule-day-content">
          <div class="timeline-item">
            <div class="timeline-time">åˆå‰</div>
            <div class="timeline-content">
              <div class="timeline-title">Alberta Legislature Building</div>
              <div class="timeline-detail">å·è­°äº‹å ‚ã€‚ç„¡æ–™ãƒ„ã‚¢ãƒ¼ã‚ã‚Šã€‚</div>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-time">åˆå¾Œ</div>
            <div class="timeline-content">
              <div class="timeline-title">River Valley æ•£ç­– / ãŠåœŸç”£è³¼å…¥</div>
            </div>
          </div>
        </div>
      </details>

      <!-- Day 6 -->
      <details class="schedule-day">
        <summary>
          <div class="schedule-day-info">
            <div class="schedule-day-date">3/8 (æ—¥)</div>
            <div class="schedule-day-title">ã‚¨ãƒ‰ãƒ¢ãƒ³ãƒˆãƒ³ â†’ ãƒãƒ³ã‚¯ãƒ¼ãƒãƒ¼ â†’ ç¾½ç”°</div>
          </div>
          <span class="schedule-day-badge">6æ—¥ç›®</span>
        </summary>
        <div class="schedule-day-content">
          <div class="timeline-item">
            <div class="timeline-time">06:00</div>
            <div class="timeline-content">
              <div class="timeline-title">ã‚¨ãƒ‰ãƒ¢ãƒ³ãƒˆãƒ³ç©ºæ¸¯ å‡ºç™º</div>
              <div class="timeline-detail">AC8052ä¾¿ â†’ ãƒãƒ³ã‚¯ãƒ¼ãƒãƒ¼ 7:19ç€</div>
              <span class="tag tag-flight copyable" onclick="copyText('RYDPTB')" style="cursor:pointer;">ç¢ºèªç•ªå·: RYDPTB ğŸ“‹</span>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-time">12:15</div>
            <div class="timeline-content">
              <div class="timeline-title">ãƒãƒ³ã‚¯ãƒ¼ãƒãƒ¼ â†’ ç¾½ç”°</div>
              <div class="timeline-detail">AC37ä¾¿ â†’ ç¿Œ14:45ç€ï¼ˆä¹—ç¶™æ™‚é–“: 4æ™‚é–“56åˆ†ï¼‰</div>
            </div>
          </div>
        </div>
      </details>

      <!-- Day 7 -->
      <details class="schedule-day">
        <summary>
          <div class="schedule-day-info">
            <div class="schedule-day-date">3/9 (æœˆ)</div>
            <div class="schedule-day-title">ç¾½ç”° â†’ é–¢è¥¿</div>
          </div>
          <span class="schedule-day-badge">7æ—¥ç›®</span>
        </summary>
        <div class="schedule-day-content">
          <div class="timeline-item">
            <div class="timeline-time">14:45</div>
            <div class="timeline-content">
              <div class="timeline-title">ç¾½ç”°ç©ºæ¸¯ åˆ°ç€</div>
              <div class="timeline-detail">å…¥å›½å¯©æŸ»ãƒ»è·ç‰©å—å–</div>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-time">16:00</div>
            <div class="timeline-content">
              <div class="timeline-title">ç¾½ç”° â†’ é–¢è¥¿</div>
              <div class="timeline-detail">ANA3823ä¾¿ â†’ 17:20ç€</div>
              <span class="tag tag-flight copyable" onclick="copyText('0138')" style="cursor:pointer;">ç¢ºèªç•ªå·: 0138 ğŸ“‹</span>
            </div>
          </div>
        </div>
      </details>
    </section>

    <!-- ===== Hotels ===== -->
    <section id="hotels" class="section">
      <div class="section-header">
        <h2 class="section-title">å®¿æ³Šæƒ…å ±</h2>
      </div>

      <div class="hotels-list">
        <div class="hotel-item">
          <div class="hotel-dates">3/3 (ç«) - 1æ³Š</div>
          <div class="hotel-name">Renaissance Edmonton Airport Hotel</div>
          <div>ç¢ºèªç•ªå·: <span class="copyable" onclick="copyText('82999487')"><span class="hotel-confirm">82999487</span><span class="copy-icon">ğŸ“‹</span></span></div>
          <div class="hotel-contact">
            <a href="tel:+17804887159">+1-780-488-7159</a>
          </div>
        </div>

        <div class="hotel-item">
          <div class="hotel-dates">3/4 (æ°´) ã€œ 3/7 (åœŸ) - 4æ³Š</div>
          <div class="hotel-name">JW Marriott Edmonton ICE District</div>
          <div>ç¢ºèªç•ªå·: <span class="copyable" onclick="copyText('97803731')"><span class="hotel-confirm">97803731</span><span class="copy-icon">ğŸ“‹</span></span></div>
          <div class="hotel-contact">
            <a href="tel:+17807847950">+1-780-784-7950</a>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== Spots ===== -->
    <section id="spots" class="section">
      <div class="section-header">
        <h2 class="section-title">è¦³å…‰ã‚¹ãƒãƒƒãƒˆ</h2>
      </div>

      <div class="spots-grid">
        <div class="spot-card">
          <img src="./images/mall.jpg" alt="West Edmonton Mall" loading="lazy">
          <div class="spot-card-body">
            <div class="spot-card-name">West Edmonton Mall</div>
            <div class="spot-card-desc">åŒ—ç±³æœ€å¤§ã®ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ«ã€‚800åº—èˆ—ä»¥ä¸Šã€æ°´æ—é¤¨ã‚„ãƒ—ãƒ¼ãƒ«ã‚‚ã€‚</div>
          </div>
        </div>

        <div class="spot-card">
          <img src="./images/art.jpg" alt="Art Gallery of Alberta" loading="lazy">
          <div class="spot-card-body">
            <div class="spot-card-name">Art Gallery of Alberta</div>
            <div class="spot-card-desc">è¿‘ä»£çš„ãªå»ºç¯‰ãŒç‰¹å¾´ã®ç¾è¡“é¤¨ã€‚ã‚«ãƒŠãƒ€ã®ã‚¢ãƒ¼ãƒˆä½œå“ã‚’å±•ç¤ºã€‚</div>
          </div>
        </div>

        <div class="spot-card">
          <img src="./images/legislature.jpg" alt="Alberta Legislature Building" loading="lazy">
          <div class="spot-card-body">
            <div class="spot-card-name">Alberta Legislature</div>
            <div class="spot-card-desc">æ­´å²ã‚ã‚‹å·è­°äº‹å ‚ã€‚ç„¡æ–™ã‚¬ã‚¤ãƒ‰ãƒ„ã‚¢ãƒ¼ã‚ã‚Šã€‚</div>
          </div>
        </div>

        <div class="spot-card">
          <img src="./images/hockey.jpg" alt="Rogers Place" loading="lazy">
          <div class="spot-card-body">
            <div class="spot-card-name">Rogers Place</div>
            <div class="spot-card-desc">NHLã‚¨ãƒ‰ãƒ¢ãƒ³ãƒˆãƒ³ãƒ»ã‚ªã‚¤ãƒ©ãƒ¼ã‚ºã®æœ¬æ‹ åœ°ã€‚Ice Districtå†…ã€‚</div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== Weather ===== -->
    <section id="weather" class="section">
      <div class="section-header">
        <h2 class="section-title">å¤©æ°—ãƒ»æœè£…</h2>
      </div>

      <div class="card">
        <div class="card-body">
          <div class="card-title">3æœˆã®ã‚¨ãƒ‰ãƒ¢ãƒ³ãƒˆãƒ³</div>
          <p style="margin-bottom: var(--space-md);">
            å¹³å‡æ°—æ¸©: <strong>-15â„ƒ ã€œ -5â„ƒ</strong><br>
            é™é›ªã®å¯èƒ½æ€§ã‚ã‚Šã€‚é¢¨ãŒå¼·ã„ã¨ä½“æ„Ÿæ¸©åº¦ã¯ã•ã‚‰ã«ä¸‹ãŒã‚Šã¾ã™ã€‚
          </p>

          <div class="card-title" style="margin-top: var(--space-md);">å¿…é ˆã®æœè£…</div>
          <ul style="padding-left: var(--space-lg); color: var(--c-text-secondary);">
            <li>ãƒ€ã‚¦ãƒ³ã‚¸ãƒ£ã‚±ãƒƒãƒˆï¼ˆè†ä¸ˆæ¨å¥¨ï¼‰</li>
            <li>ãƒ’ãƒ¼ãƒˆãƒ†ãƒƒã‚¯ä¸Šä¸‹</li>
            <li>åšæ‰‹ã®æ‰‹è¢‹ãƒ»ãƒãƒ•ãƒ©ãƒ¼ãƒ»ãƒ‹ãƒƒãƒˆå¸½</li>
            <li>æ»‘ã‚Šã«ãã„é˜²æ°´ãƒ–ãƒ¼ãƒ„</li>
          </ul>
        </div>
      </div>

      <div class="alert alert-info">
        <span class="alert-icon" aria-hidden="true">i</span>
        <div class="alert-content">
          <div class="alert-title">ä¹¾ç‡¥å¯¾ç­–ã‚‚å¿˜ã‚Œãšã«</div>
          <p class="alert-text">ä¿æ¹¿ã‚¯ãƒªãƒ¼ãƒ ãƒ»ãƒªãƒƒãƒ—ãƒ»ã®ã©é£´ã‚’æŒå‚ã—ã¦ãã ã•ã„ã€‚</p>
        </div>
      </div>
    </section>

    <!-- ===== Access ===== -->
    <section id="access" class="section">
      <div class="section-header">
        <h2 class="section-title">äº¤é€šã‚¢ã‚¯ã‚»ã‚¹</h2>
      </div>

      <div class="card">
        <div class="card-body">
          <div class="card-title">ç©ºæ¸¯ â†’ ãƒ€ã‚¦ãƒ³ã‚¿ã‚¦ãƒ³</div>
          <p style="color: var(--c-text-secondary);">
            <strong>Sky Shuttle:</strong> ç´„$25 CAD / ç´„40åˆ†<br>
            <strong>ã‚¿ã‚¯ã‚·ãƒ¼/Uber:</strong> ç´„$50-60 CAD / ç´„30åˆ†
          </p>
        </div>
      </div>

      <div class="card">
        <div class="card-body">
          <div class="card-title">å¸‚å†…ç§»å‹•</div>
          <p style="color: var(--c-text-secondary);">
            <strong>LRTï¼ˆè»½è»Œé“ï¼‰:</strong> ãƒ€ã‚¦ãƒ³ã‚¿ã‚¦ãƒ³ã€œå¤§å­¦é–“ã¯ç„¡æ–™ã‚¾ãƒ¼ãƒ³<br>
            <strong>ãƒã‚¹:</strong> 1å› $3.50 CAD
          </p>
        </div>
      </div>
    </section>

    <!-- ===== Checklist ===== -->
    <section id="checklist" class="section">
      <div class="section-header">
        <h2 class="section-title">æŒã¡ç‰©ãƒã‚§ãƒƒã‚¯</h2>
      </div>

      <div class="card">
        <div class="card-body">
          <div class="checklist-category">
            <div class="checklist-category-title">å¿…é ˆæ›¸é¡</div>
            <div class="checklist-grid">
              <label class="checklist-item" data-key="passport">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">ãƒ‘ã‚¹ãƒãƒ¼ãƒˆ</span>
              </label>
              <label class="checklist-item" data-key="eta">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">eTAç¢ºèªæ›¸</span>
              </label>
              <label class="checklist-item" data-key="ticket">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">èˆªç©ºåˆ¸æ§ãˆ</span>
              </label>
              <label class="checklist-item" data-key="hotel">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">ãƒ›ãƒ†ãƒ«äºˆç´„ç¢ºèªæ›¸</span>
              </label>
              <label class="checklist-item" data-key="insurance">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">æµ·å¤–æ—…è¡Œä¿é™ºè¨¼</span>
              </label>
            </div>
          </div>

          <div class="checklist-category">
            <div class="checklist-category-title">é˜²å¯’å…·</div>
            <div class="checklist-grid">
              <label class="checklist-item" data-key="down">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">ãƒ€ã‚¦ãƒ³ã‚¸ãƒ£ã‚±ãƒƒãƒˆ</span>
              </label>
              <label class="checklist-item" data-key="gloves">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">æ‰‹è¢‹</span>
              </label>
              <label class="checklist-item" data-key="hat">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">ãƒ‹ãƒƒãƒˆå¸½</span>
              </label>
              <label class="checklist-item" data-key="scarf">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">ãƒãƒ•ãƒ©ãƒ¼</span>
              </label>
              <label class="checklist-item" data-key="heattech">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">ãƒ’ãƒ¼ãƒˆãƒ†ãƒƒã‚¯</span>
              </label>
              <label class="checklist-item" data-key="boots">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">é˜²æ°´ãƒ–ãƒ¼ãƒ„</span>
              </label>
            </div>
          </div>

          <div class="checklist-category">
            <div class="checklist-category-title">ãã®ä»–</div>
            <div class="checklist-grid">
              <label class="checklist-item" data-key="charger">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">å……é›»å™¨</span>
              </label>
              <label class="checklist-item" data-key="battery">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">ãƒ¢ãƒã‚¤ãƒ«ãƒãƒƒãƒ†ãƒªãƒ¼</span>
              </label>
              <label class="checklist-item" data-key="moisturizer">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">ä¿æ¹¿ã‚¯ãƒªãƒ¼ãƒ </span>
              </label>
              <label class="checklist-item" data-key="lip">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">ãƒªãƒƒãƒ—ã‚¯ãƒªãƒ¼ãƒ </span>
              </label>
              <label class="checklist-item" data-key="medicine">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">å¸¸å‚™è–¬</span>
              </label>
              <label class="checklist-item" data-key="cash">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">ç¾é‡‘ (CAD)</span>
              </label>
            </div>
          </div>

          <button onclick="resetChecklist()" style="
            margin-top: var(--space-md);
            padding: var(--space-sm) var(--space-md);
            min-height: var(--tap-target);
            border: 1px solid var(--c-border);
            border-radius: var(--radius-sm);
            background: var(--c-surface);
            color: var(--c-text-secondary);
            font-size: 14px;
            cursor: pointer;
          ">ãƒªã‚»ãƒƒãƒˆ</button>
        </div>
      </div>
    </section>

  </main>

  <!-- ===== Footer ===== -->
  <footer class="footer">
    <div class="footer-message">ã„ã£ã¦ã‚‰ã£ã—ã‚ƒã„ï¼ç´ æ•µãªæ—…ã‚’</div>
    <div class="footer-from">æ­ç¥ã‚ˆã‚Š</div>
  </footer>

  <!-- ===== Emergency FAB ===== -->
  <div class="fab-emergency">
    <div class="fab-menu" id="fab-menu">
      <div class="fab-menu-title">ç·Šæ€¥é€£çµ¡å…ˆ</div>
      <a href="tel:911" class="fab-menu-item">
        <div>
          <div class="fab-menu-item-label">ç·Šæ€¥é€šå ±</div>
          <div class="fab-menu-item-value">911</div>
        </div>
      </a>
      <a href="tel:+14032940782" class="fab-menu-item">
        <div>
          <div class="fab-menu-item-label">åœ¨ã‚«ãƒ«ã‚¬ãƒªãƒ¼æ—¥æœ¬ç·é ˜äº‹é¤¨</div>
          <div class="fab-menu-item-value">+1-403-294-0782</div>
        </div>
      </a>
      <a href="tel:+17804887159" class="fab-menu-item">
        <div>
          <div class="fab-menu-item-label">Renaissance Airport</div>
          <div class="fab-menu-item-value">+1-780-488-7159</div>
        </div>
      </a>
      <a href="tel:+17807847950" class="fab-menu-item">
        <div>
          <div class="fab-menu-item-label">JW Marriott</div>
          <div class="fab-menu-item-value">+1-780-784-7950</div>
        </div>
      </a>
    </div>
    <button class="fab-btn" onclick="toggleFabMenu()" aria-label="ç·Šæ€¥é€£çµ¡å…ˆã‚’é–‹ã">
      <span aria-hidden="true">!</span>
    </button>
  </div>

  <!-- Copy Toast -->
  <div class="copy-toast" id="copy-toast">ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸ</div>

  <!-- ===== JavaScript ===== -->
  <script>
    // Copy to clipboard
    function copyText(text) {
      navigator.clipboard.writeText(text).then(() => {
        const toast = document.getElementById('copy-toast');
        toast.classList.add('show');
        setTimeout(() => toast.classList.remove('show'), 1500);
      }).catch(() => {
        // Fallback for older browsers
        const ta = document.createElement('textarea');
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand('copy');
        document.body.removeChild(ta);
        const toast = document.getElementById('copy-toast');
        toast.classList.add('show');
        setTimeout(() => toast.classList.remove('show'), 1500);
      });
    }

    // Countdown
    const DEPARTURE = new Date('2026-03-03T19:25:00+09:00');

    function updateCountdown() {
      const now = new Date();
      const diff = DEPARTURE - now;
      const el = document.getElementById('countdown');

      if (diff <= 0) {
        el.innerHTML = '<div class="countdown-done">å‡ºç™ºã—ã¾ã—ãŸï¼è‰¯ã„æ—…ã‚’ï¼</div>';
        return;
      }

      const d = Math.floor(diff / 86400000);
      const h = Math.floor((diff % 86400000) / 3600000);
      const m = Math.floor((diff % 3600000) / 60000);
      const s = Math.floor((diff % 60000) / 1000);

      document.getElementById('cd-days').textContent = d;
      document.getElementById('cd-hours').textContent = h;
      document.getElementById('cd-mins').textContent = m;
      document.getElementById('cd-secs').textContent = s;
    }

    // Time Display
    function updateTime() {
      const now = new Date();
      document.getElementById('time-jst').textContent = now.toLocaleTimeString('ja-JP', { timeZone: 'Asia/Tokyo', hour: '2-digit', minute: '2-digit' });
      document.getElementById('time-mst').textContent = now.toLocaleTimeString('en-CA', { timeZone: 'America/Edmonton', hour: '2-digit', minute: '2-digit' });
    }

    // Checklist
    const STORAGE_KEY = 'edmonton-checklist-v2';

    function loadChecklist() {
      const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
      document.querySelectorAll('.checklist-item').forEach(item => {
        if (saved[item.dataset.key]) {
          item.classList.add('checked');
          item.querySelector('.checklist-checkbox').innerHTML = 'âœ“';
        }
      });
    }

    function saveChecklist() {
      const checked = {};
      document.querySelectorAll('.checklist-item.checked').forEach(item => {
        checked[item.dataset.key] = true;
      });
      localStorage.setItem(STORAGE_KEY, JSON.stringify(checked));
    }

    function resetChecklist() {
      if (confirm('ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã™ã‹ï¼Ÿ')) {
        localStorage.removeItem(STORAGE_KEY);
        document.querySelectorAll('.checklist-item').forEach(item => {
          item.classList.remove('checked');
          item.querySelector('.checklist-checkbox').innerHTML = '';
        });
      }
    }

    document.querySelectorAll('.checklist-item').forEach(item => {
      item.addEventListener('click', () => {
        item.classList.toggle('checked');
        item.querySelector('.checklist-checkbox').innerHTML = item.classList.contains('checked') ? 'âœ“' : '';
        saveChecklist();
      });
    });

    // FAB Menu
    function toggleFabMenu() {
      document.getElementById('fab-menu').classList.toggle('open');
    }

    document.addEventListener('click', (e) => {
      if (!e.target.closest('.fab-emergency')) {
        document.getElementById('fab-menu').classList.remove('open');
      }
    });

    // Service Worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./sw.js').catch(() => {});
    }

    // Init
    updateCountdown();
    updateTime();
    loadChecklist();
    setInterval(updateCountdown, 1000);
    setInterval(updateTime, 1000);
  </script>
</body>
</html>
