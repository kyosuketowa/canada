<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>枝里子へ - エドモントン旅行しおり</title>
  <link rel="icon" type="image/svg+xml" href="./images/icon.svg">
  <link rel="manifest" href="./manifest.json">
  <meta name="theme-color" content="#D52B1E">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="description" content="森下枝里子さんのカナダ・エドモントン旅行しおり 2026年3月3日〜9日">

  <style>
    /* ===== Design System ===== */
    :root {
      /* Colors - Semantic */
      --c-primary: #D52B1E;
      --c-primary-dark: #B8251A;
      --c-danger: #D32F2F;
      --c-warning: #F57C00;
      --c-info: #1976D2;
      --c-success: #388E3C;

      /* Colors - Neutral */
      --c-bg: #FAFAFA;
      --c-surface: #FFFFFF;
      --c-text: #212121;
      --c-text-secondary: #616161;
      --c-text-muted: #9E9E9E;
      --c-border: #E0E0E0;

      /* Spacing */
      --space-xs: 4px;
      --space-sm: 8px;
      --space-md: 16px;
      --space-lg: 24px;
      --space-xl: 32px;

      /* Typography */
      --font-base: 16px;
      --line-height: 1.7;

      /* Radius */
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;

      /* Shadows */
      --shadow-sm: 0 1px 3px rgba(0,0,0,0.08);
      --shadow-md: 0 4px 12px rgba(0,0,0,0.1);
      --shadow-lg: 0 8px 24px rgba(0,0,0,0.12);

      /* Touch target */
      --tap-target: 48px;
    }

    /* ===== Reset ===== */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; -webkit-tap-highlight-color: transparent; }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Hiragino Kaku Gothic ProN', sans-serif;
      font-size: var(--font-base);
      line-height: var(--line-height);
      color: var(--c-text);
      background: var(--c-bg);
      padding-bottom: 80px; /* FAB space */
    }

    /* ===== Utility ===== */
    .container { max-width: 720px; margin: 0 auto; padding: 0 var(--space-md); }
    .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0; }

    /* ===== Hero Section - First View ===== */
    .hero {
      background: linear-gradient(135deg, var(--c-primary) 0%, var(--c-primary-dark) 100%);
      color: white;
      padding: var(--space-lg) var(--space-md);
      position: relative;
      overflow: hidden;
    }

    .hero::before {
      content: '';
      position: absolute;
      inset: 0;
      background: url('https://images.unsplash.com/photo-1519681393784-d120267933ba?w=800') center/cover;
      opacity: 0.15;
    }

    .hero-content { position: relative; z-index: 1; }

    .hero-badge {
      display: inline-block;
      background: rgba(255,255,255,0.2);
      padding: 6px 14px;
      border-radius: 100px;
      font-size: 13px;
      margin-bottom: var(--space-sm);
    }

    .hero-title {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: var(--space-xs);
    }

    .hero-subtitle {
      font-size: 0.95rem;
      opacity: 0.9;
      margin-bottom: var(--space-md);
    }

    /* Quick Info Grid - Visible on First View */
    .quick-info {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: var(--space-sm);
      margin-bottom: var(--space-md);
    }

    .quick-item {
      background: rgba(255,255,255,0.15);
      backdrop-filter: blur(10px);
      border-radius: var(--radius-sm);
      padding: var(--space-sm) var(--space-md);
    }

    .quick-label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      opacity: 0.85;
    }

    .quick-value {
      font-size: 1rem;
      font-weight: 600;
    }

    .quick-sub {
      font-size: 12px;
      opacity: 0.8;
    }

    /* Countdown - Compact */
    .countdown {
      display: flex;
      gap: var(--space-sm);
      justify-content: center;
      flex-wrap: wrap;
    }

    .countdown-item {
      background: rgba(255,255,255,0.2);
      border-radius: var(--radius-sm);
      padding: var(--space-sm) var(--space-md);
      text-align: center;
      min-width: 60px;
    }

    .countdown-value { font-size: 1.5rem; font-weight: 700; display: block; }
    .countdown-unit { font-size: 11px; opacity: 0.9; }
    .countdown-done { text-align: center; padding: var(--space-md); font-size: 1.1rem; }

    /* Time Display */
    .time-display {
      display: flex;
      justify-content: center;
      gap: var(--space-lg);
      margin-top: var(--space-md);
      font-size: 13px;
      opacity: 0.9;
    }

    /* ===== Sticky Nav ===== */
    .sticky-nav {
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--c-surface);
      border-bottom: 1px solid var(--c-border);
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }

    .sticky-nav::-webkit-scrollbar { display: none; }

    .nav-list {
      display: flex;
      list-style: none;
      padding: 0 var(--space-sm);
      white-space: nowrap;
    }

    .nav-list a {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: var(--space-md);
      min-height: var(--tap-target);
      text-decoration: none;
      color: var(--c-text-secondary);
      font-size: 14px;
      transition: color 0.2s;
    }

    .nav-list a:hover, .nav-list a:focus { color: var(--c-primary); }

    /* ===== Section ===== */
    .section {
      padding: var(--space-lg) 0;
      scroll-margin-top: 60px;
    }

    .section-header {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      margin-bottom: var(--space-md);
      padding: 0 var(--space-md);
    }

    .section-title {
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--c-text);
    }

    /* ===== Cards ===== */
    .card {
      background: var(--c-surface);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-sm);
      margin: 0 var(--space-md) var(--space-md);
      overflow: hidden;
    }

    .card-body { padding: var(--space-md); }
    .card-title { font-size: 1rem; font-weight: 600; margin-bottom: var(--space-sm); }

    /* ===== Alert Boxes - Consistent Color Rules ===== */
    .alert {
      border-radius: var(--radius-sm);
      padding: var(--space-md);
      margin: 0 var(--space-md) var(--space-md);
      display: flex;
      gap: var(--space-sm);
      align-items: flex-start;
    }

    .alert-icon { flex-shrink: 0; font-size: 1.25rem; }
    .alert-content { flex: 1; }
    .alert-title { font-weight: 600; margin-bottom: var(--space-xs); }
    .alert-text { font-size: 14px; }

    /* Warning = Orange/Yellow background */
    .alert-warning {
      background: #FFF3E0;
      border-left: 4px solid var(--c-warning);
    }
    .alert-warning .alert-title { color: #E65100; }

    /* Info = Blue background */
    .alert-info {
      background: #E3F2FD;
      border-left: 4px solid var(--c-info);
    }
    .alert-info .alert-title { color: #1565C0; }

    /* Danger = Red background */
    .alert-danger {
      background: #FFEBEE;
      border-left: 4px solid var(--c-danger);
    }
    .alert-danger .alert-title { color: #C62828; }

    /* ===== Photo Cards ===== */
    .photo-card {
      position: relative;
      border-radius: var(--radius-md);
      overflow: hidden;
      margin: 0 var(--space-md) var(--space-md);
    }

    .photo-card img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      display: block;
    }

    .photo-card-overlay {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      background: linear-gradient(transparent, rgba(0,0,0,0.7));
      color: white;
      padding: var(--space-lg) var(--space-md) var(--space-md);
    }

    .photo-card-title { font-size: 1.1rem; font-weight: 600; }
    .photo-card-desc { font-size: 13px; opacity: 0.9; margin-top: 4px; }

    .photo-credit {
      position: absolute;
      bottom: var(--space-sm);
      right: var(--space-sm);
      background: rgba(0,0,0,0.5);
      color: white;
      font-size: 10px;
      padding: 2px 6px;
      border-radius: 4px;
    }

    /* ===== Schedule ===== */
    .schedule-day {
      background: var(--c-surface);
      border-radius: var(--radius-md);
      margin: 0 var(--space-md) var(--space-md);
      box-shadow: var(--shadow-sm);
      overflow: hidden;
    }

    .schedule-day summary {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: var(--space-md);
      min-height: var(--tap-target);
      cursor: pointer;
      list-style: none;
      background: linear-gradient(135deg, var(--c-primary) 0%, var(--c-primary-dark) 100%);
      color: white;
    }

    .schedule-day summary::-webkit-details-marker { display: none; }

    .schedule-day-info { flex: 1; }
    .schedule-day-date { font-weight: 700; font-size: 1rem; }
    .schedule-day-title { font-size: 13px; opacity: 0.9; margin-top: 2px; }

    .schedule-day-badge {
      background: rgba(255,255,255,0.25);
      padding: 4px 12px;
      border-radius: 100px;
      font-size: 12px;
      font-weight: 600;
    }

    .schedule-day-content { padding: var(--space-md); }

    .timeline-item {
      display: flex;
      gap: var(--space-md);
      padding: var(--space-sm) 0;
      border-bottom: 1px solid var(--c-border);
    }

    .timeline-item:last-child { border-bottom: none; }

    .timeline-time {
      min-width: 50px;
      font-weight: 600;
      color: var(--c-primary);
      font-size: 14px;
    }

    .timeline-content { flex: 1; }
    .timeline-title { font-weight: 500; }
    .timeline-detail { font-size: 13px; color: var(--c-text-secondary); margin-top: 2px; }

    .tag {
      display: inline-block;
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 100px;
      margin-top: var(--space-xs);
    }

    .tag-flight { background: #E3F2FD; color: #1565C0; }
    .tag-hotel { background: #F3E5F5; color: #7B1FA2; }
    .tag-food { background: #FFF3E0; color: #E65100; }

    /* ===== Spots Grid ===== */
    .spots-grid {
      display: grid;
      gap: var(--space-md);
      padding: 0 var(--space-md);
    }

    .spot-card {
      background: var(--c-surface);
      border-radius: var(--radius-md);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
    }

    .spot-card img {
      width: 100%;
      height: 160px;
      object-fit: cover;
    }

    .spot-card-body { padding: var(--space-md); }
    .spot-card-name { font-weight: 600; margin-bottom: var(--space-xs); }
    .spot-card-desc { font-size: 14px; color: var(--c-text-secondary); }

    /* ===== Checklist ===== */
    .checklist-grid {
      display: grid;
      gap: var(--space-sm);
    }

    .checklist-item {
      display: flex;
      align-items: center;
      gap: var(--space-md);
      padding: var(--space-md);
      min-height: var(--tap-target);
      background: var(--c-bg);
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: background 0.2s;
      -webkit-user-select: none;
      user-select: none;
    }

    .checklist-item:active { background: #EEE; }

    .checklist-item.checked {
      background: #E8F5E9;
    }

    .checklist-item.checked .checklist-text {
      text-decoration: line-through;
      color: var(--c-text-muted);
    }

    .checklist-checkbox {
      width: 24px;
      height: 24px;
      border: 2px solid var(--c-border);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      transition: all 0.2s;
    }

    .checklist-item.checked .checklist-checkbox {
      background: var(--c-success);
      border-color: var(--c-success);
      color: white;
    }

    .checklist-text { font-size: 15px; }

    .checklist-category { margin-bottom: var(--space-lg); }
    .checklist-category-title { font-weight: 600; margin-bottom: var(--space-sm); color: var(--c-text-secondary); font-size: 14px; }

    /* ===== Hotels Table ===== */
    .hotels-list { padding: 0 var(--space-md); }

    .hotel-item {
      background: var(--c-surface);
      border-radius: var(--radius-md);
      padding: var(--space-md);
      margin-bottom: var(--space-md);
      box-shadow: var(--shadow-sm);
    }

    .hotel-dates { font-size: 13px; color: var(--c-text-secondary); margin-bottom: var(--space-xs); }
    .hotel-name { font-weight: 600; margin-bottom: var(--space-xs); }
    .hotel-confirm { font-family: monospace; background: var(--c-bg); padding: 2px 8px; border-radius: 4px; font-size: 14px; }
    .hotel-contact { font-size: 13px; color: var(--c-text-secondary); margin-top: var(--space-sm); }
    .hotel-contact a { color: var(--c-primary); text-decoration: none; min-height: var(--tap-target); display: inline-flex; align-items: center; }

    /* ===== Emergency FAB ===== */
    .fab-emergency {
      position: fixed;
      bottom: var(--space-lg);
      right: var(--space-md);
      z-index: 1000;
    }

    .fab-btn {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: var(--c-danger);
      color: white;
      border: none;
      font-size: 24px;
      cursor: pointer;
      box-shadow: var(--shadow-lg);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .fab-btn:active { transform: scale(0.95); }

    .fab-menu {
      position: absolute;
      bottom: 70px;
      right: 0;
      background: var(--c-surface);
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-lg);
      min-width: 240px;
      display: none;
      overflow: hidden;
    }

    .fab-menu.open { display: block; }

    .fab-menu-title {
      background: var(--c-danger);
      color: white;
      padding: var(--space-md);
      font-weight: 600;
    }

    .fab-menu-item {
      display: flex;
      align-items: center;
      gap: var(--space-md);
      padding: var(--space-md);
      min-height: var(--tap-target);
      text-decoration: none;
      color: var(--c-text);
      border-bottom: 1px solid var(--c-border);
      transition: background 0.2s;
    }

    .fab-menu-item:last-child { border-bottom: none; }
    .fab-menu-item:active { background: var(--c-bg); }
    .fab-menu-item-label { font-size: 13px; color: var(--c-text-secondary); }
    .fab-menu-item-value { font-weight: 600; }

    /* ===== Footer ===== */
    .footer {
      background: var(--c-text);
      color: white;
      padding: var(--space-xl) var(--space-md);
      text-align: center;
    }

    .footer-message { font-size: 1.1rem; margin-bottom: var(--space-xs); }
    .footer-from { font-size: 14px; opacity: 0.8; }

    /* ===== Print ===== */
    @media print {
      .sticky-nav, .fab-emergency { display: none !important; }
      .schedule-day[open] .schedule-day-content { display: block !important; }
      body { padding-bottom: 0; }
    }

    /* ===== Responsive ===== */
    @media (min-width: 600px) {
      .quick-info { grid-template-columns: repeat(4, 1fr); }
      .spots-grid { grid-template-columns: repeat(2, 1fr); }
      .checklist-grid { grid-template-columns: repeat(2, 1fr); }
    }
  </style>
</head>
<body>

  <!-- ===== Hero Section - Key Info Visible on First View ===== -->
  <header class="hero">
    <div class="hero-content">
      <span class="hero-badge">To: 枝里子へ / From: 恭祐より</span>
      <h1 class="hero-title">エドモントン旅行しおり</h1>
      <p class="hero-subtitle">2026年3月3日(火) 〜 3月9日(月) ・ 5泊7日</p>

      <!-- Key Info - Visible Immediately -->
      <div class="quick-info">
        <div class="quick-item">
          <div class="quick-label">出発</div>
          <div class="quick-value">3/3 19:25</div>
          <div class="quick-sub">関西空港</div>
        </div>
        <div class="quick-item">
          <div class="quick-label">到着</div>
          <div class="quick-value">3/3 21:43</div>
          <div class="quick-sub">エドモントン</div>
        </div>
        <div class="quick-item">
          <div class="quick-label">帰国</div>
          <div class="quick-value">3/9 10:15</div>
          <div class="quick-sub">関西空港</div>
        </div>
        <div class="quick-item">
          <div class="quick-label">時差</div>
          <div class="quick-value">-16時間</div>
          <div class="quick-sub">MST</div>
        </div>
      </div>

      <!-- Countdown -->
      <div id="countdown" class="countdown">
        <div class="countdown-item">
          <span class="countdown-value" id="cd-days">--</span>
          <span class="countdown-unit">日</span>
        </div>
        <div class="countdown-item">
          <span class="countdown-value" id="cd-hours">--</span>
          <span class="countdown-unit">時間</span>
        </div>
        <div class="countdown-item">
          <span class="countdown-value" id="cd-mins">--</span>
          <span class="countdown-unit">分</span>
        </div>
        <div class="countdown-item">
          <span class="countdown-value" id="cd-secs">--</span>
          <span class="countdown-unit">秒</span>
        </div>
      </div>

      <!-- Time Display -->
      <div class="time-display">
        <span>日本 <strong id="time-jst">--:--</strong></span>
        <span>Edmonton <strong id="time-mst">--:--</strong></span>
      </div>
    </div>
  </header>

  <!-- ===== Sticky Navigation ===== -->
  <nav class="sticky-nav" aria-label="メインナビゲーション">
    <ul class="nav-list">
      <li><a href="#schedule">日程</a></li>
      <li><a href="#hotels">宿泊</a></li>
      <li><a href="#spots">観光</a></li>
      <li><a href="#checklist">持ち物</a></li>
      <li><a href="#weather">天気</a></li>
      <li><a href="#access">交通</a></li>
    </ul>
  </nav>

  <main>
    <!-- ===== Important Alerts ===== -->
    <section class="section" aria-label="重要なお知らせ">
      <div class="alert alert-warning">
        <span class="alert-icon" aria-hidden="true">!</span>
        <div class="alert-content">
          <div class="alert-title">eTA（電子渡航認証）</div>
          <p class="alert-text">カナダ入国にはeTAが必要です。出発前に必ず確認してください。</p>
        </div>
      </div>

      <div class="alert alert-info">
        <span class="alert-icon" aria-hidden="true">i</span>
        <div class="alert-content">
          <div class="alert-title">3月のエドモントンは極寒</div>
          <p class="alert-text">気温 -15℃〜-5℃。ダウン・手袋・帽子は必須です。</p>
        </div>
      </div>
    </section>

    <!-- ===== Hero Photo ===== -->
    <div class="photo-card">
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5e/Downtown-Skyline-Edmonton-Alberta-Canada-Stitch-01.jpg/1280px-Downtown-Skyline-Edmonton-Alberta-Canada-Stitch-01.jpg"
           alt="エドモントンのダウンタウン・スカイライン"
           loading="lazy">
      <div class="photo-card-overlay">
        <div class="photo-card-title">Edmonton, Alberta</div>
        <div class="photo-card-desc">カナダで5番目に大きな都市。北米最大のショッピングモールも。</div>
      </div>
      <span class="photo-credit">Wikimedia Commons</span>
    </div>

    <!-- ===== Schedule ===== -->
    <section id="schedule" class="section">
      <div class="section-header">
        <h2 class="section-title">日程スケジュール</h2>
      </div>

      <!-- Day 1 -->
      <details class="schedule-day" open>
        <summary>
          <div class="schedule-day-info">
            <div class="schedule-day-date">3/3 (火)</div>
            <div class="schedule-day-title">関西 → バンクーバー → カルガリー → エドモントン</div>
          </div>
          <span class="schedule-day-badge">1日目</span>
        </summary>
        <div class="schedule-day-content">
          <div class="timeline-item">
            <div class="timeline-time">19:25</div>
            <div class="timeline-content">
              <div class="timeline-title">関西空港 出発</div>
              <div class="timeline-detail">AC36便 → バンクーバー 11:35着</div>
              <span class="tag tag-flight">確認番号: RYDPTB</span>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-time">14:00</div>
            <div class="timeline-content">
              <div class="timeline-title">バンクーバー → カルガリー</div>
              <div class="timeline-detail">AC218便 → 16:26着（乗継時間: 2時間25分）</div>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-time">20:40</div>
            <div class="timeline-content">
              <div class="timeline-title">カルガリー → エドモントン</div>
              <div class="timeline-detail">AC8077便 → 21:43着（乗継時間: 4時間14分）</div>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-time">22:00</div>
            <div class="timeline-content">
              <div class="timeline-title">Renaissance Edmonton Airport Hotel チェックイン</div>
              <div class="timeline-detail">空港隣接・徒歩5分</div>
              <span class="tag tag-hotel">確認番号: 82999487</span>
            </div>
          </div>
        </div>
      </details>

      <!-- Day 2 -->
      <details class="schedule-day">
        <summary>
          <div class="schedule-day-info">
            <div class="schedule-day-date">3/4 (水)</div>
            <div class="schedule-day-title">エドモントン市内観光</div>
          </div>
          <span class="schedule-day-badge">2日目</span>
        </summary>
        <div class="schedule-day-content">
          <div class="timeline-item">
            <div class="timeline-time">午前</div>
            <div class="timeline-content">
              <div class="timeline-title">JW Marriott へ移動</div>
              <div class="timeline-detail">チェックイン後、Ice District 散策</div>
              <span class="tag tag-hotel">確認番号: 97803731</span>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-time">午後</div>
            <div class="timeline-content">
              <div class="timeline-title">Rogers Place 周辺 / Art Gallery of Alberta</div>
              <div class="timeline-detail">ホテル周辺は徒歩で回れます</div>
            </div>
          </div>
        </div>
      </details>

      <!-- Day 3 -->
      <details class="schedule-day">
        <summary>
          <div class="schedule-day-info">
            <div class="schedule-day-date">3/5 (木)</div>
            <div class="schedule-day-title">West Edmonton Mall</div>
          </div>
          <span class="schedule-day-badge">3日目</span>
        </summary>
        <div class="schedule-day-content">
          <div class="timeline-item">
            <div class="timeline-time">終日</div>
            <div class="timeline-content">
              <div class="timeline-title">West Edmonton Mall</div>
              <div class="timeline-detail">北米最大のショッピングモール。水族館・プール・遊園地も。</div>
            </div>
          </div>
        </div>
      </details>

      <!-- Day 4 -->
      <details class="schedule-day">
        <summary>
          <div class="schedule-day-info">
            <div class="schedule-day-date">3/6 (金)</div>
            <div class="schedule-day-title">Old Strathcona / 自由行動</div>
          </div>
          <span class="schedule-day-badge">4日目</span>
        </summary>
        <div class="schedule-day-content">
          <div class="timeline-item">
            <div class="timeline-time">午後</div>
            <div class="timeline-content">
              <div class="timeline-title">Old Strathcona 散策</div>
              <div class="timeline-detail">Whyte Avenue でショッピング＆カフェ</div>
            </div>
          </div>
        </div>
      </details>

      <!-- Day 5 -->
      <details class="schedule-day">
        <summary>
          <div class="schedule-day-info">
            <div class="schedule-day-date">3/7 (土)</div>
            <div class="schedule-day-title">Alberta Legislature / 最終日観光</div>
          </div>
          <span class="schedule-day-badge">5日目</span>
        </summary>
        <div class="schedule-day-content">
          <div class="timeline-item">
            <div class="timeline-time">午前</div>
            <div class="timeline-content">
              <div class="timeline-title">Alberta Legislature Building</div>
              <div class="timeline-detail">州議事堂。無料ツアーあり。</div>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-time">午後</div>
            <div class="timeline-content">
              <div class="timeline-title">River Valley 散策 / お土産購入</div>
            </div>
          </div>
        </div>
      </details>

      <!-- Day 6 -->
      <details class="schedule-day">
        <summary>
          <div class="schedule-day-info">
            <div class="schedule-day-date">3/8 (日)</div>
            <div class="schedule-day-title">エドモントン → バンクーバー → 羽田</div>
          </div>
          <span class="schedule-day-badge">6日目</span>
        </summary>
        <div class="schedule-day-content">
          <div class="timeline-item">
            <div class="timeline-time">06:00</div>
            <div class="timeline-content">
              <div class="timeline-title">エドモントン空港 出発</div>
              <div class="timeline-detail">AC8052便 → バンクーバー 7:19着</div>
              <span class="tag tag-flight">確認番号: RYDPTB</span>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-time">12:15</div>
            <div class="timeline-content">
              <div class="timeline-title">バンクーバー → 羽田</div>
              <div class="timeline-detail">AC37便 → 翌14:45着（乗継時間: 4時間56分）</div>
            </div>
          </div>
        </div>
      </details>

      <!-- Day 7 -->
      <details class="schedule-day">
        <summary>
          <div class="schedule-day-info">
            <div class="schedule-day-date">3/9 (月)</div>
            <div class="schedule-day-title">羽田 → 関西</div>
          </div>
          <span class="schedule-day-badge">7日目</span>
        </summary>
        <div class="schedule-day-content">
          <div class="timeline-item">
            <div class="timeline-time">14:45</div>
            <div class="timeline-content">
              <div class="timeline-title">羽田空港 到着</div>
              <div class="timeline-detail">入国審査・荷物受取</div>
            </div>
          </div>
          <div class="timeline-item">
            <div class="timeline-time">16:00</div>
            <div class="timeline-content">
              <div class="timeline-title">羽田 → 関西</div>
              <div class="timeline-detail">ANA3823便 → 17:20着</div>
              <span class="tag tag-flight">確認番号: 0138</span>
            </div>
          </div>
        </div>
      </details>
    </section>

    <!-- ===== Hotels ===== -->
    <section id="hotels" class="section">
      <div class="section-header">
        <h2 class="section-title">宿泊情報</h2>
      </div>

      <div class="hotels-list">
        <div class="hotel-item">
          <div class="hotel-dates">3/3 (火) - 1泊</div>
          <div class="hotel-name">Renaissance Edmonton Airport Hotel</div>
          <div>確認番号: <span class="hotel-confirm">82999487</span></div>
          <div class="hotel-contact">
            <a href="tel:+17804887159">+1-780-488-7159</a>
          </div>
        </div>

        <div class="hotel-item">
          <div class="hotel-dates">3/4 (水) 〜 3/7 (土) - 4泊</div>
          <div class="hotel-name">JW Marriott Edmonton ICE District</div>
          <div>確認番号: <span class="hotel-confirm">97803731</span></div>
          <div class="hotel-contact">
            <a href="tel:+17807847950">+1-780-784-7950</a>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== Spots ===== -->
    <section id="spots" class="section">
      <div class="section-header">
        <h2 class="section-title">観光スポット</h2>
      </div>

      <div class="spots-grid">
        <div class="spot-card">
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/West_Edmonton_Mall%2C_Edmonton%2C_Alberta_%2821885498380%29.jpg/640px-West_Edmonton_Mall%2C_Edmonton%2C_Alberta_%2821885498380%29.jpg"
               alt="West Edmonton Mall" loading="lazy">
          <div class="spot-card-body">
            <div class="spot-card-name">West Edmonton Mall</div>
            <div class="spot-card-desc">北米最大のショッピングモール。800店舗以上、水族館やプールも。</div>
          </div>
        </div>

        <div class="spot-card">
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/Art_Gallery_of_Alberta_2.jpg/640px-Art_Gallery_of_Alberta_2.jpg"
               alt="Art Gallery of Alberta" loading="lazy">
          <div class="spot-card-body">
            <div class="spot-card-name">Art Gallery of Alberta</div>
            <div class="spot-card-desc">近代的な建築が特徴の美術館。カナダのアート作品を展示。</div>
          </div>
        </div>

        <div class="spot-card">
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9d/Alberta_Legislature_Building_2.jpg/640px-Alberta_Legislature_Building_2.jpg"
               alt="Alberta Legislature Building" loading="lazy">
          <div class="spot-card-body">
            <div class="spot-card-name">Alberta Legislature</div>
            <div class="spot-card-desc">歴史ある州議事堂。無料ガイドツアーあり。</div>
          </div>
        </div>

        <div class="spot-card">
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Rogers_Place_Arena.jpg/640px-Rogers_Place_Arena.jpg"
               alt="Rogers Place" loading="lazy">
          <div class="spot-card-body">
            <div class="spot-card-name">Rogers Place</div>
            <div class="spot-card-desc">NHLエドモントン・オイラーズの本拠地。Ice District内。</div>
          </div>
        </div>
      </div>
    </section>

    <!-- ===== Weather ===== -->
    <section id="weather" class="section">
      <div class="section-header">
        <h2 class="section-title">天気・服装</h2>
      </div>

      <div class="card">
        <div class="card-body">
          <div class="card-title">3月のエドモントン</div>
          <p style="margin-bottom: var(--space-md);">
            平均気温: <strong>-15℃ 〜 -5℃</strong><br>
            降雪の可能性あり。風が強いと体感温度はさらに下がります。
          </p>

          <div class="card-title" style="margin-top: var(--space-md);">必須の服装</div>
          <ul style="padding-left: var(--space-lg); color: var(--c-text-secondary);">
            <li>ダウンジャケット（膝丈推奨）</li>
            <li>ヒートテック上下</li>
            <li>厚手の手袋・マフラー・ニット帽</li>
            <li>滑りにくい防水ブーツ</li>
          </ul>
        </div>
      </div>

      <div class="alert alert-info">
        <span class="alert-icon" aria-hidden="true">i</span>
        <div class="alert-content">
          <div class="alert-title">乾燥対策も忘れずに</div>
          <p class="alert-text">保湿クリーム・リップ・のど飴を持参してください。</p>
        </div>
      </div>
    </section>

    <!-- ===== Access ===== -->
    <section id="access" class="section">
      <div class="section-header">
        <h2 class="section-title">交通アクセス</h2>
      </div>

      <div class="card">
        <div class="card-body">
          <div class="card-title">空港 → ダウンタウン</div>
          <p style="color: var(--c-text-secondary);">
            <strong>Sky Shuttle:</strong> 約$25 CAD / 約40分<br>
            <strong>タクシー/Uber:</strong> 約$50-60 CAD / 約30分
          </p>
        </div>
      </div>

      <div class="card">
        <div class="card-body">
          <div class="card-title">市内移動</div>
          <p style="color: var(--c-text-secondary);">
            <strong>LRT（軽軌道）:</strong> ダウンタウン〜大学間は無料ゾーン<br>
            <strong>バス:</strong> 1回 $3.50 CAD
          </p>
        </div>
      </div>
    </section>

    <!-- ===== Checklist ===== -->
    <section id="checklist" class="section">
      <div class="section-header">
        <h2 class="section-title">持ち物チェック</h2>
      </div>

      <div class="card">
        <div class="card-body">
          <div class="checklist-category">
            <div class="checklist-category-title">必須書類</div>
            <div class="checklist-grid">
              <label class="checklist-item" data-key="passport">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">パスポート</span>
              </label>
              <label class="checklist-item" data-key="eta">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">eTA確認書</span>
              </label>
              <label class="checklist-item" data-key="ticket">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">航空券控え</span>
              </label>
              <label class="checklist-item" data-key="hotel">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">ホテル予約確認書</span>
              </label>
              <label class="checklist-item" data-key="insurance">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">海外旅行保険証</span>
              </label>
            </div>
          </div>

          <div class="checklist-category">
            <div class="checklist-category-title">防寒具</div>
            <div class="checklist-grid">
              <label class="checklist-item" data-key="down">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">ダウンジャケット</span>
              </label>
              <label class="checklist-item" data-key="gloves">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">手袋</span>
              </label>
              <label class="checklist-item" data-key="hat">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">ニット帽</span>
              </label>
              <label class="checklist-item" data-key="scarf">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">マフラー</span>
              </label>
              <label class="checklist-item" data-key="heattech">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">ヒートテック</span>
              </label>
              <label class="checklist-item" data-key="boots">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">防水ブーツ</span>
              </label>
            </div>
          </div>

          <div class="checklist-category">
            <div class="checklist-category-title">その他</div>
            <div class="checklist-grid">
              <label class="checklist-item" data-key="charger">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">充電器</span>
              </label>
              <label class="checklist-item" data-key="battery">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">モバイルバッテリー</span>
              </label>
              <label class="checklist-item" data-key="moisturizer">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">保湿クリーム</span>
              </label>
              <label class="checklist-item" data-key="lip">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">リップクリーム</span>
              </label>
              <label class="checklist-item" data-key="medicine">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">常備薬</span>
              </label>
              <label class="checklist-item" data-key="cash">
                <div class="checklist-checkbox"></div>
                <span class="checklist-text">現金 (CAD)</span>
              </label>
            </div>
          </div>

          <button onclick="resetChecklist()" style="
            margin-top: var(--space-md);
            padding: var(--space-sm) var(--space-md);
            min-height: var(--tap-target);
            border: 1px solid var(--c-border);
            border-radius: var(--radius-sm);
            background: var(--c-surface);
            color: var(--c-text-secondary);
            font-size: 14px;
            cursor: pointer;
          ">リセット</button>
        </div>
      </div>
    </section>

  </main>

  <!-- ===== Footer ===== -->
  <footer class="footer">
    <div class="footer-message">いってらっしゃい！素敵な旅を</div>
    <div class="footer-from">恭祐より</div>
  </footer>

  <!-- ===== Emergency FAB ===== -->
  <div class="fab-emergency">
    <div class="fab-menu" id="fab-menu">
      <div class="fab-menu-title">緊急連絡先</div>
      <a href="tel:911" class="fab-menu-item">
        <div>
          <div class="fab-menu-item-label">緊急通報</div>
          <div class="fab-menu-item-value">911</div>
        </div>
      </a>
      <a href="tel:+14032940782" class="fab-menu-item">
        <div>
          <div class="fab-menu-item-label">在カルガリー日本総領事館</div>
          <div class="fab-menu-item-value">+1-403-294-0782</div>
        </div>
      </a>
      <a href="tel:+17804887159" class="fab-menu-item">
        <div>
          <div class="fab-menu-item-label">Renaissance Airport</div>
          <div class="fab-menu-item-value">+1-780-488-7159</div>
        </div>
      </a>
      <a href="tel:+17807847950" class="fab-menu-item">
        <div>
          <div class="fab-menu-item-label">JW Marriott</div>
          <div class="fab-menu-item-value">+1-780-784-7950</div>
        </div>
      </a>
    </div>
    <button class="fab-btn" onclick="toggleFabMenu()" aria-label="緊急連絡先を開く">
      <span aria-hidden="true">!</span>
    </button>
  </div>

  <!-- ===== JavaScript ===== -->
  <script>
    // Countdown
    const DEPARTURE = new Date('2026-03-03T19:25:00+09:00');

    function updateCountdown() {
      const now = new Date();
      const diff = DEPARTURE - now;
      const el = document.getElementById('countdown');

      if (diff <= 0) {
        el.innerHTML = '<div class="countdown-done">出発しました！良い旅を！</div>';
        return;
      }

      const d = Math.floor(diff / 86400000);
      const h = Math.floor((diff % 86400000) / 3600000);
      const m = Math.floor((diff % 3600000) / 60000);
      const s = Math.floor((diff % 60000) / 1000);

      document.getElementById('cd-days').textContent = d;
      document.getElementById('cd-hours').textContent = h;
      document.getElementById('cd-mins').textContent = m;
      document.getElementById('cd-secs').textContent = s;
    }

    // Time Display
    function updateTime() {
      const now = new Date();
      document.getElementById('time-jst').textContent = now.toLocaleTimeString('ja-JP', { timeZone: 'Asia/Tokyo', hour: '2-digit', minute: '2-digit' });
      document.getElementById('time-mst').textContent = now.toLocaleTimeString('en-CA', { timeZone: 'America/Edmonton', hour: '2-digit', minute: '2-digit' });
    }

    // Checklist
    const STORAGE_KEY = 'edmonton-checklist-v2';

    function loadChecklist() {
      const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');
      document.querySelectorAll('.checklist-item').forEach(item => {
        if (saved[item.dataset.key]) {
          item.classList.add('checked');
          item.querySelector('.checklist-checkbox').innerHTML = '✓';
        }
      });
    }

    function saveChecklist() {
      const checked = {};
      document.querySelectorAll('.checklist-item.checked').forEach(item => {
        checked[item.dataset.key] = true;
      });
      localStorage.setItem(STORAGE_KEY, JSON.stringify(checked));
    }

    function resetChecklist() {
      if (confirm('チェックリストをリセットしますか？')) {
        localStorage.removeItem(STORAGE_KEY);
        document.querySelectorAll('.checklist-item').forEach(item => {
          item.classList.remove('checked');
          item.querySelector('.checklist-checkbox').innerHTML = '';
        });
      }
    }

    document.querySelectorAll('.checklist-item').forEach(item => {
      item.addEventListener('click', () => {
        item.classList.toggle('checked');
        item.querySelector('.checklist-checkbox').innerHTML = item.classList.contains('checked') ? '✓' : '';
        saveChecklist();
      });
    });

    // FAB Menu
    function toggleFabMenu() {
      document.getElementById('fab-menu').classList.toggle('open');
    }

    document.addEventListener('click', (e) => {
      if (!e.target.closest('.fab-emergency')) {
        document.getElementById('fab-menu').classList.remove('open');
      }
    });

    // Service Worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('./sw.js').catch(() => {});
    }

    // Init
    updateCountdown();
    updateTime();
    loadChecklist();
    setInterval(updateCountdown, 1000);
    setInterval(updateTime, 1000);
  </script>
</body>
</html>
